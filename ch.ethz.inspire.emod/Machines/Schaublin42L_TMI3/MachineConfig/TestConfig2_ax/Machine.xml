<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!--
	Machine definition file

	The <machine> contains a list of <machineComponent>s. Each
	<machineComponent> is specified by a <name>, a <component xsi:type> (e.g. linearMotor)
	and a <type>. The machine component objects are built from this list automatically.

	The <simulators> contains a list of simulators used for process and state simulation.
-->
<ns2:machine xmlns:ns2="ch.ethz.inspire.emod">
	<machine>
		<!-- Spindle -->
		<machineComponent>
			<name>C1</name>
			<component xsi:type="motor" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>Kessler_000101561</type>		
			</component>
		</machineComponent>

		<!-- X-Axis Motor -->
		<machineComponent>
			<component xsi:type="servoMotor" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>FanucAlphaC6_2000</type>
			</component>
			<name>X1</name>
		</machineComponent>

		<!-- Z-Axis Motor -->
		<machineComponent>
			<name>Z1</name>
			<component xsi:type="servoMotor" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>FanucAlphaC12_2000</type>
			</component>
		</machineComponent>
		
		<!-- Tailstock-Axis Motor -->
		<machineComponent>
			<name>Z3</name>
			<component xsi:type="servoMotor" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>FanucAlphaC12_2000</type>
			</component>
		</machineComponent>
		
		<!-- B-Axis Motor -->
		<machineComponent>
			<name>B1</name>
			<component xsi:type="servoMotor" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>FanucAlphaM9_3000</type>
			</component>
		</machineComponent>
		
		<!-- X-Axis -->
		<machineComponent>
			<name>X1_ax</name>
			<component xsi:type="linAxis" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>Schaublin42L_X1</type>
			</component>
		</machineComponent>

		<!-- Z-Axis -->
		<machineComponent>
			<name>Z1_ax</name>
			<component xsi:type="linAxis" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>Schaublin42L_Z1</type>
			</component>
		</machineComponent>
		
		<!-- Tailstock-Axis -->
		<machineComponent>
			<name>Z3_ax</name>
			<component xsi:type="linAxis" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>Schaublin42L_Tailstock</type>
			</component>
		</machineComponent>

		<!-- Revolver -->
		<machineComponent>
			<name>T1_pos</name>
			<component xsi:type="revolver" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>Schaublin42L</type>
			</component>
		</machineComponent>
		
		<!-- Spindle Amplifier-->
		<machineComponent>
			<name>C1_amp</name>
			<component xsi:type="amplifier" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>FanucSPM-26</type>		
			</component>
		</machineComponent>

		<!-- X and Z-Axis Amplifier -->
		<machineComponent>
			<name>AxPower</name>
			<component xsi:type="sum" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>WATT</type>
			</component>
		</machineComponent>
		
		<machineComponent>
			<component xsi:type="amplifier" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>FanucSVM2-20-20</type>
			</component>
			<name>Ax_amp</name>
		</machineComponent>
		
		<!-- Tailstock Amplifier -->
		<machineComponent>
			<name>Z3_amp</name>
			<component xsi:type="amplifier" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>FanucSVU1-80</type>
			</component>
		</machineComponent>
		
		<!-- B-Axis Amplifier -->
		<machineComponent>
			<name>B1_amp</name>
			<component xsi:type="amplifier" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>FanucSVM1-80</type>
			</component>
		</machineComponent>
		
		
		<!-- Pump cutting fluid -->
		<machineComponent>
			<name>CuttingFluidPump</name>
			<component xsi:type="pump" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>SpandauVogel_PV80_180</type>
			</component>
		</machineComponent>
		
		<!-- Spindle cooling -->
		<machineComponent>
			<name>SpindleCooling</name>
			<component xsi:type="heatExchanger" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>Hyfra_VWK_21_1S</type>
			</component> 
		</machineComponent>
		
		<!-- Chip conv. -->
		<machineComponent>
			<name>ChipConveyor</name>
			<component xsi:type="constantComponent" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>Bonfigioli_BN804A</type>
			</component> 
		</machineComponent>
		
		<!-- Fan 1 -->
		<machineComponent>
			<name>Fan_in</name>
			<component xsi:type="fan" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>Pfannenberg_PF_3000</type>
			</component> 
		</machineComponent>
		
		<!-- Fan 2 -->
		<machineComponent>
			<name>Fan_out</name>
			<component xsi:type="fan" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>Pfannenberg_PF_3000</type>
			</component> 
		</machineComponent>
		
		<!-- Sum of energy over Fanuc -->
		<machineComponent>
			<name>FanucTotalPower</name>
			<component xsi:type="sum" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>WATT</type>
			</component>
		</machineComponent>
		
		<machineComponent>
			<name>FanucTotalLoss</name>
			<component xsi:type="sum" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>WATT</type>
			</component>
		</machineComponent>
		
		<!-- Compressed air -->
		<machineComponent>
			<name>CompressedAir</name>
			<component xsi:type="compressedFluid" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>Air10bar</type>
			</component>
		</machineComponent>
		
		<!-- Total electrical power -->
		<machineComponent>
			<name>TotalPower</name>
			<component xsi:type="sum" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>WATT</type>
			</component>
		</machineComponent>
		
		<!-- 2400kVA Transformer -->
		<machineComponent>
			<name>ControlPowerTransformer</name>
			<component xsi:type="sum" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
				<type>WATT</type>
			</component>
		</machineComponent>

	</machine>
	<simulators>
	
		<!-- Fanuc on/off -->
		<simController xsi:type="staticSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
            <name>FanucCtrl</name>
            <unit>NONE</unit>
        </simController>
        
        <!-- Cutting fluid Pump on/off -->
		<simController xsi:type="staticSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
            <name>CuttingFluidPumpCtrl</name>
            <unit>NONE</unit>
        </simController>
        
        <!-- Lubricant mass flow -->
        <simController xsi:type="processSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<name>LubFlow</name>
			<unit>L_S</unit>
		</simController>
        
        <!-- Spindle cooling on/off -->
		<simController xsi:type="staticSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
            <name>SpindleCoolingCtrl</name>
            <unit>KG_S</unit>
        </simController>
        <simController xsi:type="staticSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
            <name>CompressorCtrl</name>
            <unit>NONE</unit>
        </simController>
        
        <!-- Chip conveyor on/off -->
		<simController xsi:type="processSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
            <name>ChipConv</name>
            <unit>NONE</unit>
        </simController>
        
        <!-- Sealing air demand -->
		<simController xsi:type="staticSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
            <name>SealingAirDemand</name>
            <unit>L_S</unit>
        </simController>
        
        <!-- Fan on/off -->
		<simController xsi:type="staticSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
            <name>FanCtrl</name>
            <unit>NONE</unit>
        </simController>
		 
		<!-- Rot. Speed C axis -->
		<simController xsi:type="processSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<name>C1_n</name>
			<unit>RPM</unit>
		</simController>

		<!-- Torque C axis -->
		<simController xsi:type="geometricKienzleSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<name>C1_Torque</name>
			<unit>NEWTONMETER</unit>
		</simController>
		
		<!-- Feed Force X axis -->
		<simController xsi:type="geometricKienzleSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<name>X1_Force</name>
			<unit>NEWTON</unit>
		</simController>
		
		<!-- Feed Force Z axis -->
		<simController xsi:type="geometricKienzleSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<name>Z1_Force</name>
			<unit>NEWTON</unit>
		</simController>

		<!-- Position X axis -->
		<!-- Position surface -->
		<simController xsi:type="processSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<name>X1_d</name>
			<unit>MM</unit>
		</simController>

		<!-- Cutting depth -->
		<simController xsi:type="processSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<name>X1_ap</name>
			<unit>MM</unit>
		</simController>

		<!-- Feed on X axis -->
		<simController xsi:type="processSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<name>X1_v</name>
			<unit>MM_MIN</unit>
		</simController>
		
		<!-- Feed on Z axis -->
		<simController xsi:type="processSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<name>Z1_v</name>
			<unit>MM_MIN</unit>
		</simController>
		
		<!-- Clamping force -->
		<simController xsi:type="processSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<name>FClamp</name>
			<unit>NEWTON</unit>
		</simController>
		
		<!-- Tool in use Z axis -->
		<simController xsi:type="processSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<name>Tool</name>
			<unit>NONE</unit>
		</simController>
		
		<!-- Ambient Temperature -->
		<simController xsi:type="processSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<name>Temperature</name>
			<unit>KELVIN</unit>
		</simController>
		
		<!-- Ambient Pressure -->
		<simController xsi:type="processSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<name>Pressure</name>
			<unit>PA</unit>
		</simController>
		
		<!-- Zero element -->
		<simController xsi:type="processSimulationControl" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
			<name>Zero</name>
			<unit>MM_MIN</unit>
		</simController>
		
	</simulators>
</ns2:machine>
